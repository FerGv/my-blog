<!DOCTYPE html>
<html lang="es-MX">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Por referencia vs por valor | Mi blog</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="icon" href="/favicon.svg">
    <meta name="description" content="Mi blog personal">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/assets/css/0.styles.078476e6.css" as="style"><link rel="preload" href="/assets/js/app.b3ed9657.js" as="script"><link rel="preload" href="/assets/js/2.15b445b7.js" as="script"><link rel="preload" href="/assets/js/12.53f8ae8e.js" as="script"><link rel="prefetch" href="/assets/js/10.d4712bca.js"><link rel="prefetch" href="/assets/js/11.1251dc5c.js"><link rel="prefetch" href="/assets/js/13.213e6090.js"><link rel="prefetch" href="/assets/js/14.59f05ff3.js"><link rel="prefetch" href="/assets/js/15.45035fb0.js"><link rel="prefetch" href="/assets/js/16.330af336.js"><link rel="prefetch" href="/assets/js/17.9e458353.js"><link rel="prefetch" href="/assets/js/3.ad30521f.js"><link rel="prefetch" href="/assets/js/4.ee9dacf0.js"><link rel="prefetch" href="/assets/js/5.8044a77b.js"><link rel="prefetch" href="/assets/js/6.c4661bb8.js"><link rel="prefetch" href="/assets/js/7.d2b67324.js"><link rel="prefetch" href="/assets/js/8.defa59f8.js"><link rel="prefetch" href="/assets/js/9.4c39e32f.js">
    <link rel="stylesheet" href="/assets/css/0.styles.078476e6.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Mi blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://fergv.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  fergv.com
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Idiomas" class="dropdown-title"><span class="title">Idiomas</span> <span class="arrow down"></span></button> <button type="button" aria-label="Idiomas" class="mobile-dropdown-title"><span class="title">Idiomas</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/reference-vs-value/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Español
</a></li><li class="dropdown-item"><!----> <a href="/en/" class="nav-link">
  English
</a></li></ul></div></div> <a href="https://github.com/fergv/my-blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://fergv.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  fergv.com
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Idiomas" class="dropdown-title"><span class="title">Idiomas</span> <span class="arrow down"></span></button> <button type="button" aria-label="Idiomas" class="mobile-dropdown-title"><span class="title">Idiomas</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/reference-vs-value/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Español
</a></li><li class="dropdown-item"><!----> <a href="/en/" class="nav-link">
  English
</a></li></ul></div></div> <a href="https://github.com/fergv/my-blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/" aria-current="page" class="sidebar-link">Inicio</a></li><li><a href="/welcome/" class="sidebar-link">Bienvenid@</a></li><li><a href="/state-of-js-2020/" class="sidebar-link">State of JS 2020: Typescript y Svelte</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/state-of-js-2020/#typescript" class="sidebar-link">Typescript</a></li><li class="sidebar-sub-header"><a href="/state-of-js-2020/#svelte" class="sidebar-link">Svelte</a></li></ul></li><li><a href="/bang-bang-operator/" class="sidebar-link">Operador Bang Bang (Valores Falsy/Truthy)</a></li><li><a href="/array-methods/" class="sidebar-link">Métodos de arreglos</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/array-methods/#foreach" class="sidebar-link">forEach</a></li><li class="sidebar-sub-header"><a href="/array-methods/#filter" class="sidebar-link">filter</a></li><li class="sidebar-sub-header"><a href="/array-methods/#find" class="sidebar-link">find</a></li><li class="sidebar-sub-header"><a href="/array-methods/#findindex" class="sidebar-link">findIndex</a></li><li class="sidebar-sub-header"><a href="/array-methods/#map" class="sidebar-link">map</a></li><li class="sidebar-sub-header"><a href="/array-methods/#some" class="sidebar-link">some</a></li><li class="sidebar-sub-header"><a href="/array-methods/#every" class="sidebar-link">every</a></li><li class="sidebar-sub-header"><a href="/array-methods/#reduce" class="sidebar-link">reduce</a></li><li class="sidebar-sub-header"><a href="/array-methods/#join" class="sidebar-link">join</a></li><li class="sidebar-sub-header"><a href="/array-methods/#includes" class="sidebar-link">includes</a></li><li class="sidebar-sub-header"><a href="/array-methods/#flat" class="sidebar-link">flat</a></li><li class="sidebar-sub-header"><a href="/array-methods/#flatmap" class="sidebar-link">flatMap</a></li><li class="sidebar-sub-header"><a href="/array-methods/#conclusion" class="sidebar-link">Conclusión</a></li></ul></li><li><a href="/var-let-const/" class="sidebar-link">Var, let, const</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/var-let-const/#ambito-scope" class="sidebar-link">Ámbito (scope)</a></li><li class="sidebar-sub-header"><a href="/var-let-const/#var" class="sidebar-link">var</a></li><li class="sidebar-sub-header"><a href="/var-let-const/#let" class="sidebar-link">let</a></li><li class="sidebar-sub-header"><a href="/var-let-const/#const" class="sidebar-link">const</a></li><li class="sidebar-sub-header"><a href="/var-let-const/#conclusion" class="sidebar-link">Conclusión</a></li></ul></li><li><a href="/reference-vs-value/" aria-current="page" class="active sidebar-link">Por referencia vs por valor</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/reference-vs-value/#conclusion" class="sidebar-link">Conclusión</a></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="por-referencia-vs-por-valor"><a href="#por-referencia-vs-por-valor" class="header-anchor">#</a> Por referencia vs por valor</h1> <p>Un pequeño problema con el que te puedes enfrentar más de una vez en Javascript es algo así:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> nombres <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Fernando'</span><span class="token punctuation">,</span> <span class="token string">'Miriam'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> nombresCopia <span class="token operator">=</span> nombres<span class="token punctuation">;</span>

nombresCopia<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'Andrea'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>nombres<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// -&gt; ['Fernando', 'Miriam', 'Andrea']</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>nombresCopia<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// -&gt; ['Fernando', 'Miriam', 'Andrea']</span>
</code></pre></div><p><img src="/assets/img/surprised.546db297.gif" alt="Surprised"></p> <p>Sin que nadie lo esperara, el arreglo original también se modificó 😯. El problema está en que cualquier valor que no sea <a href="https://developer.mozilla.org/es/docs/Glossary/Primitive" target="_blank" rel="noopener noreferrer">primitivo<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> (string, number, boolean) en realidad no se copia su valor, sino su referencia.</p> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>Javascript no permite ver las referencias de cada objeto como lo hacen otros lenguajes (ej. Python).</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> persona <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token string">'nombre'</span><span class="token punctuation">:</span> <span class="token string">'Fernando'</span><span class="token punctuation">,</span> <span class="token string">'edad'</span><span class="token punctuation">:</span> <span class="token number">23</span> <span class="token punctuation">}</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">id</span><span class="token punctuation">(</span>persona<span class="token punctuation">)</span>
<span class="token comment">#  2894665420096</span>
</code></pre></div></div> <p>Veamos un ejemplo con un primitivo:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> nombre <span class="token operator">=</span> <span class="token string">'Fernando'</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> nombreCopia <span class="token operator">=</span> nombre<span class="token punctuation">;</span>

nombreCopia <span class="token operator">+=</span> <span class="token string">' Gv'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>nombre<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// -&gt; Fernando Gv</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>nombreCopia<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// -&gt; Fernando</span>
</code></pre></div><p>Como puedes ver, los strings al ser primitivos, se crea una copia de su valor. Lo mismo ocurre cuando se pasan como argumentos, si es primitivo no se modificará el original.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// ---------- PRIMITIVOS ----------</span>
<span class="token keyword">function</span> <span class="token function">modificarMensaje</span><span class="token punctuation">(</span><span class="token parameter">mensaje</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  mensaje <span class="token operator">+=</span> <span class="token string">'!'</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>mensaje<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// -&gt; Hola!</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> mensaje <span class="token operator">=</span> <span class="token string">'Hola'</span><span class="token punctuation">;</span>
<span class="token function">modificarMensaje</span><span class="token punctuation">(</span>mensaje<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>mensaje<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// -&gt; Hola</span>

<span class="token comment">// ---------- NO PRIMITIVOS ----------</span>
<span class="token keyword">function</span> <span class="token function">modificarPersona</span><span class="token punctuation">(</span><span class="token parameter">persona</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  persona<span class="token punctuation">.</span>edad <span class="token operator">=</span> <span class="token number">23</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>persona<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// -&gt; { nombre: 'Fernando', edad: 23 }</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> persona <span class="token operator">=</span> <span class="token punctuation">{</span> nombre<span class="token operator">:</span> <span class="token string">'Fernando'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">modificarPersona</span><span class="token punctuation">(</span>persona<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>persona<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// -&gt; { nombre: 'Fernando', edad: 23 }</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Para crear una copia de un arreglo o un objeto, puedes usar el <a href="https://developer.mozilla.org/es/docs/Web/JavaScript/Reference/Operators/Spread_syntax" target="_blank" rel="noopener noreferrer">operador spread<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> nombres <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Fernando'</span><span class="token punctuation">,</span> <span class="token string">'Miriam'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> nombresCopia <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>nombres<span class="token punctuation">]</span><span class="token punctuation">;</span>

nombresCopia<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'Andrea'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>nombres<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// -&gt; ['Fernando', 'Miriam']</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>nombresCopia<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// -&gt; ['Fernando', 'Miriam', 'Andrea']</span>
</code></pre></div><p>Pero ten cuidado, este operador solo copia el primer nivel dentro de la colección, si tienes arreglos u objetos anidados, mantendrá las referencias a ellos. Para hacer una copia a más niveles de profundidad te recomiendo usar <a href="https://lodash.com/docs/#cloneDeep" target="_blank" rel="noopener noreferrer">Lodash <code>cloneDeep</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <h2 id="conclusion"><a href="#conclusion" class="header-anchor">#</a> Conclusión</h2> <p><strong>Para valores primitivos se crea una copia de su valor y para los no primitivos, lo que se copia es la referencia</strong>. Recuerda esto la siguiente vez que necesites referenciar un valor o pasarlo como argumento.</p> <p>Happy coding! 🥸</p> <!----></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/fergv/my-blog/edit/master/src/reference-vs-value/README.md" target="_blank" rel="noopener noreferrer">Editar esta página en GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Última actualización:</span> <span class="time">4/3/2021 22:19:31</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/var-let-const/" class="prev">
        Var, let, const
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.b3ed9657.js" defer></script><script src="/assets/js/2.15b445b7.js" defer></script><script src="/assets/js/12.53f8ae8e.js" defer></script>
  </body>
</html>
