(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{380:function(a,e,t){a.exports=t.p+"assets/img/cry.f383c54e.gif"},436:function(a,e,t){"use strict";t.r(e);var s=t(43),n=Object(s.a)({},(function(){var a=this,e=a.$createElement,s=a._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"localstorage-almacenamiento-en-el-navegador"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#localstorage-almacenamiento-en-el-navegador"}},[a._v("#")]),a._v(" localStorage (Almacenamiento en el navegador)")]),a._v(" "),s("p",[a._v("Hoy en día, el desarrollo web se ha vuelto tan complicado que lo que antes solo se hacía del lado del "),s("a",{attrs:{href:"https://es.wikipedia.org/wiki/Front_end_y_back_end",target:"_blank",rel:"noopener noreferrer"}},[a._v("backend"),s("OutboundLink")],1),s("strong",[a._v("(donde se procesa la lógica, lo que no ve el usuario)")]),a._v(", ahora se reparte en el "),s("a",{attrs:{href:"https://es.wikipedia.org/wiki/Front_end_y_back_end",target:"_blank",rel:"noopener noreferrer"}},[a._v("frontend"),s("OutboundLink")],1),s("strong",[a._v("(lado visual que interactúa con el usuario)")]),a._v(" y en algunos casos hasta se delega completamente a este lado.")]),a._v(" "),s("p",{staticStyle:{"text-align":"center"}},[s("img",{attrs:{src:t(380),alt:"Cry"}})]),a._v(" "),s("p",[a._v("Un ejemplo de esto es la autenticación, que antes se manejaba en el servidor a través de sesiones las cuales utilizaban "),s("a",{attrs:{href:"https://es.wikipedia.org/wiki/Cookie_(inform%C3%A1tica)",target:"_blank",rel:"noopener noreferrer"}},[a._v("cookies"),s("OutboundLink")],1),a._v(" para almacenar pequeña información en el navegador acerca del usuario. Esto funcionaba bien cuando todo era una "),s("a",{attrs:{href:"https://es.wikipedia.org/wiki/Aplicaci%C3%B3n_monol%C3%ADtica",target:"_blank",rel:"noopener noreferrer"}},[a._v("arquitectura monolítica"),s("OutboundLink")],1),a._v(" y la lógica y la presentación eran manejados en conjunto. Pero cuando comenzamos a separarlos, tuvimos que buscar nuevas maneras de "),s("strong",[a._v("almacenar")]),a._v(" más información del lado del "),s("a",{attrs:{href:"https://es.wikipedia.org/wiki/Cliente-servidor",target:"_blank",rel:"noopener noreferrer"}},[a._v("cliente"),s("OutboundLink")],1),a._v(".")]),a._v(" "),s("p",[a._v("Fue así que se creó una "),s("a",{attrs:{href:"https://es.wikipedia.org/wiki/Web_API",target:"_blank",rel:"noopener noreferrer"}},[a._v("API"),s("OutboundLink")],1),a._v(" del navegador llamada "),s("a",{attrs:{href:"https://developer.mozilla.org/es/docs/Web/API/Window/localStorage",target:"_blank",rel:"noopener noreferrer"}},[a._v("localStorage"),s("OutboundLink")],1),a._v(" para almacenar todo lo que una aplicación frontend necesitara. Pero debo aclarar que tiene sus consideraciones:")]),a._v(" "),s("ul",[s("li",[a._v("Solo se puede almacenar texto.")]),a._v(" "),s("li",[a._v("Está limitada a guardar máximo 5MB por dominio.")]),a._v(" "),s("li",[a._v("Todo se almacena como parejas clave-valor.")]),a._v(" "),s("li",[a._v("Cualquier script JS tiene acceso al almacenamiento.")])]),a._v(" "),s("p",[a._v("Pero esto no es necesariamente malo. De hecho, para la mayoría de casos es más que suficiente. Así que veamos cómo usar esta API, te sorprenderá lo sencilla que es:")]),a._v(" "),s("h2",{attrs:{id:"crear-editar-items"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#crear-editar-items"}},[a._v("#")]),a._v(" Crear/Editar items")]),a._v(" "),s("p",[a._v("Para acceder a la API, usamos el objeto global "),s("code",[a._v("localStorage")]),a._v(" y los métodos que nos provee. El primero de ellos es "),s("code",[a._v("setItem()")]),a._v(" que nos ayuda a crear un nuevo item si no existe, o editarlo en caso de que ya se encuentre guardado en el almacén.")]),a._v(" "),s("p",[a._v("Este método recibe como primer parámetro la llave para identificar al item, y como segundo parámetro el valor a guardar.")]),a._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// Crear items")]),a._v("\nlocalStorage"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("setItem")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'nombre'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'Fer'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\nlocalStorage"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("setItem")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'edad'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("23")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// Actualizar items")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// Simplemente utiliza la misma llave.")]),a._v("\nlocalStorage"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("setItem")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'nombre'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'Pedro'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("p",[a._v("Ya que solo podemos guardar texto, si intentas almacenar un tipo de dato complejo como un arreglo o un objeto, debes primero convertirlo a texto usando "),s("a",{attrs:{href:"https://developer.mozilla.org/es/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify",target:"_blank",rel:"noopener noreferrer"}},[a._v("JSON.stringify()"),s("OutboundLink")],1),a._v(" y pasando el valor como argumento.")]),a._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("const")]),a._v(" persona "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v(" nombre"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'Fer'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" edad"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("23")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\nlocalStorage"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("setItem")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'persona'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[a._v("JSON")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("stringify")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("persona"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[a._v("TIP")]),a._v(" "),s("p",[a._v("Puedes revisar todo lo que está almacenado en tu navegador, entrando a las "),s("strong",[a._v("herramientas de desarrollador")]),a._v(".")]),a._v(" "),s("ul",[s("li",[a._v("Para "),s("a",{attrs:{href:"https://support.google.com/campaignmanager/answer/2828688?hl=es",target:"_blank",rel:"noopener noreferrer"}},[a._v("Chrome"),s("OutboundLink")],1),a._v(" está en la pestaña "),s("strong",[a._v("Aplicación")]),a._v(", en la sección "),s("strong",[a._v("Almacenamiento > Local Storage")]),a._v(".")]),a._v(" "),s("li",[a._v("Para "),s("a",{attrs:{href:"https://developer.mozilla.org/es/docs/Learn/Common_questions/What_are_browser_developer_tools",target:"_blank",rel:"noopener noreferrer"}},[a._v("Firefox"),s("OutboundLink")],1),a._v(" está en la pestaña "),s("strong",[a._v("Almacenamiento")]),a._v(", en la sección "),s("strong",[a._v("Local Storage")]),a._v(".")])]),a._v(" "),s("p",[a._v("Revisa la documentación de tu navegador para saber cómo acceder a esta información.")])]),a._v(" "),s("h2",{attrs:{id:"obtener-items"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#obtener-items"}},[a._v("#")]),a._v(" Obtener items")]),a._v(" "),s("p",[a._v("Para obtener algo de nuestro almacén usamos el método "),s("code",[a._v("getItem()")]),a._v(" junto con la llave. Esto nos regresará el texto guardado o "),s("code",[a._v("null")]),a._v(" en caso de no encontrar esa llave.")]),a._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[a._v("localStorage"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("getItem")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'nombre'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// -> 'Fer'")]),a._v("\n\nlocalStorage"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("getItem")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'edad'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// Retorna texto, no número")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// -> '23'")]),a._v("\n\nlocalStorage"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("getItem")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'no-existe'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// -> null")]),a._v("\n")])])]),s("p",[a._v("Recuerda que todo en el "),s("strong",[a._v("localStorage")]),a._v(" es texto, por lo que los objetos más complejos deben ser convertidos antes de usarse. "),s("a",{attrs:{href:"https://developer.mozilla.org/es/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse",target:"_blank",rel:"noopener noreferrer"}},[a._v("JSON.parse()"),s("OutboundLink")],1),a._v(" transforma las cadenas de texto a su tipo de dato original.")]),a._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[a._v("localStorage"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("getItem")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'persona'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// Retorna texto, no el objeto")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// -> '{ nombre: \"Fer\", edad: 23 }'")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[a._v("JSON")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("parse")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("localStorage"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("getItem")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'persona'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// -> { nombre: 'Fer', edad: 23 }")]),a._v("\n")])])]),s("h2",{attrs:{id:"borrar-items"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#borrar-items"}},[a._v("#")]),a._v(" Borrar items")]),a._v(" "),s("p",[a._v("Para borrar un item llamamos al método "),s("code",[a._v("removeItem()")]),a._v(" y pasamos la llave.")]),a._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[a._v("localStorage"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("removeItem")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'nombre'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("p",[a._v("Y para borrar todos los items usamos "),s("code",[a._v("clear()")]),a._v(".")]),a._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[a._v("localStorage"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("clear")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("h2",{attrs:{id:"conclusion"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#conclusion"}},[a._v("#")]),a._v(" Conclusión")]),a._v(" "),s("p",[s("code",[a._v("localStorage")]),a._v(" es solo un "),s("a",{attrs:{href:"https://developer.mozilla.org/es/docs/Web/API/Web_Storage_API",target:"_blank",rel:"noopener noreferrer"}},[a._v("tipo de almacenamiento en el navegador"),s("OutboundLink")],1),a._v(" pero abre las posibilidades a grandes cosas, ya que ofrece flexibilidad a las aplicaciones cliente para guardar todo tipo de información que necesiten como "),s("a",{attrs:{href:"https://es.wikipedia.org/wiki/Token_(inform%C3%A1tica)",target:"_blank",rel:"noopener noreferrer"}},[a._v("tokens de autenticación"),s("OutboundLink")],1),a._v(" (aunque debes tener cuidado), datos del usuario, preferencias como el tema oscuro, etc.")]),a._v(" "),s("p",[a._v("La API es realmente sencilla, así que te recomiendo que empieces a usarla en tus aplicaciones, podría ser de mucha utilidad.")]),a._v(" "),s("p",[a._v("Happy coding! 🥸")]),a._v(" "),s("Disqus")],1)}),[],!1,null,null,null);e.default=n.exports}}]);