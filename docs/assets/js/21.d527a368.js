(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{370:function(a,s,t){a.exports=t.p+"assets/img/come.ed5b8520.gif"},426:function(a,s,t){"use strict";t.r(s);var e=t(43),n=Object(e.a)({},(function(){var a=this,s=a.$createElement,e=a._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"variables-de-entorno"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#variables-de-entorno"}},[a._v("#")]),a._v(" Variables de entorno")]),a._v(" "),e("p",[a._v("En todo sistema se usa informaci칩n o claves que no cualquiera deber칤a tener acceso, por ejemplo, una clave de acceso a alguna API, credenciales de autenticaci칩n, URLs, etc. Cualquier cosa que no quieras compartir puede entrar en esta categor칤a y la mejor manera de darle tratamiento es usando "),e("strong",[a._v("variables de entorno")]),a._v(".")]),a._v(" "),e("p",[a._v("As칤 que veamos c칩mo usarlas correctamente.")]),a._v(" "),e("p",[e("img",{attrs:{src:t(370),alt:"Come"}})]),a._v(" "),e("p",[a._v("Las "),e("strong",[a._v("variables de entorno")]),a._v(" son variables que "),e("strong",[a._v("se crean a nivel de sistema operativo")]),a._v(", por eso son tan seguras (no soy experto en ciberseguridad pero al menos es mucho mejor que "),e("a",{attrs:{href:"https://es.wikipedia.org/wiki/Hard_code",target:"_blank",rel:"noopener noreferrer"}},[a._v('"harcodearlas"'),e("OutboundLink")],1),a._v(").")]),a._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[a._v("TIP")]),a._v(" "),e("p",[a._v("Existe un conjunto de buenas pr치cticas para el desarrollo y despliegue de aplicaciones conocido como "),e("a",{attrs:{href:"https://12factor.net/es/",target:"_blank",rel:"noopener noreferrer"}},[a._v("The twelve-factor app"),e("OutboundLink")],1),a._v(". El tema de variables de entorno es el "),e("a",{attrs:{href:"https://12factor.net/es/config",target:"_blank",rel:"noopener noreferrer"}},[a._v("punto 3"),e("OutboundLink")],1),a._v(" pero te recomiendo leer los doce.")])]),a._v(" "),e("p",[a._v("Estas variables las podr칤as crear desde la terminal (dependiendo tu sistema operativo) as칤:")]),a._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Unix")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("NUEVA_ENV_VAR")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("Hola\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Windows")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("set")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("NUEVA_ENV_VAR")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("Hola\n")])])]),e("p",[a._v("Pero ser칤a muy complicado llevar un control sobre ellas de este modo. As칤 que una mejor opci칩n es usar archivos "),e("code",[a._v(".env")]),a._v(" y la librer칤a "),e("a",{attrs:{href:"https://www.npmjs.com/package/dotenv",target:"_blank",rel:"noopener noreferrer"}},[a._v("dotenv"),e("OutboundLink")],1),a._v(".")]),a._v(" "),e("h2",{attrs:{id:"usando-dotenv"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#usando-dotenv"}},[a._v("#")]),a._v(" Usando "),e("code",[a._v("dotenv")])]),a._v(" "),e("p",[a._v("Lo primero que debes hacer es instalar la librer칤a:")]),a._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" i dotenv\n")])])]),e("blockquote",[e("p",[a._v("Esto la agregar치 como dependencia a tu proyecto.")]),a._v(" "),e("p",[a._v("Previamente debe existir un "),e("code",[a._v("package.json")]),a._v(", si no es as칤, lo puedes crear ejecutando "),e("code",[a._v("npm init -y")]),a._v(".")]),a._v(" "),e("p",[e("code",[a._v("npm")]),a._v(" se instala junto con "),e("a",{attrs:{href:"https://nodejs.org/es/",target:"_blank",rel:"noopener noreferrer"}},[a._v("Node JS"),e("OutboundLink")],1),a._v(".")])]),a._v(" "),e("p",[a._v("Despu칠s debes crear un archivo "),e("code",[a._v(".env")]),a._v(" en la ra칤z de tu proyecto y dentro escribir las variables con el formato "),e("code",[a._v("CLAVE=VALOR")]),a._v(".")]),a._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("DEBUG")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("true\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("API_KEY")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("cddw"),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$324")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&")]),a._v("sad/dsa"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&")]),a._v("as/adsa\n")])])]),e("blockquote",[e("p",[a._v("La buena pr치ctica es escribir el nombre de la variable en may칰sculas.")])]),a._v(" "),e("p",[a._v("Y en el archivo JS donde necesites las variables de entorno, necesitas escribir esta l칤nea al inicio:")]),a._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// Sintaxis de Node")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("require")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[a._v("'dotenv'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("config")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// M칩dulos de ES6")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("import")]),a._v(" dotenv "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("from")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v("'dotenv'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\ndotenv"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("config")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),e("p",[a._v("Finalmente, accedes a las variables de la siguiente manera:")]),a._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[a._v("console"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("process"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("env"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),e("span",{pre:!0,attrs:{class:"token constant"}},[a._v("DEBUG")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// -> 'true'")]),a._v("\nconsole"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("process"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("env"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),e("span",{pre:!0,attrs:{class:"token constant"}},[a._v("API_KEY")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// -> 'cddw$324&sad/dsa&as/adsa'")]),a._v("\n")])])]),e("p",[a._v("Y eso es todo lo que debes hacer para trabajar con variables de entorno en tu proyecto 游뱘.")]),a._v(" "),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"custom-block-title"},[a._v("WARNING")]),a._v(" "),e("p",[a._v("Todas las variables de entorno se crean como cadenas de texto, as칤 que debes tener cuidado con valores booleanos.")]),a._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Esto se evaluar치 como verdadero porque lo que se guarda es el string 'false'")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("DEBUG")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("false\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Esto se evaluar치 como falso porque ser치 un string vac칤o ''")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("DEBUG")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("\n")])])]),e("p",[a._v("Si te queda duda sobre los valores falsy/truthy revisa mi art칤culo "),e("RouterLink",{attrs:{to:"/js/bang-bang-operator/"}},[a._v('"Operador Bang Bang (Valores Falsy/Truthy)"')]),a._v(".")],1)]),a._v(" "),e("div",{staticClass:"custom-block danger"},[e("p",{staticClass:"custom-block-title"},[a._v("WARNING")]),a._v(" "),e("p",[e("strong",[a._v("Nunca subas tu archivo "),e("code",[a._v(".env")]),a._v(" a tu repositorio de c칩digo")]),a._v(".")]),a._v(" "),e("p",[a._v("Mejor crea un archivo "),e("code",[a._v(".env.example")]),a._v(" con la estructura base pero sin ning칰n valor que pueda ser comprometido y sube este archivo a tu repo.")])]),a._v(" "),e("h2",{attrs:{id:"creando-un-archivo-config"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#creando-un-archivo-config"}},[a._v("#")]),a._v(" Creando un archivo "),e("code",[a._v("config")])]),a._v(" "),e("p",[a._v("Aunque ya est치s listo para trabajar con variables de entorno, te voy a mostrar una buena pr치ctica para tener centralizadas las variables.")]),a._v(" "),e("p",[a._v("Crea un archivo llamado "),e("code",[a._v("config.js")]),a._v(" y dentro de 칠l exporta un objeto con todas las variables de entorno que necesites.")]),a._v(" "),e("blockquote",[e("p",[a._v("El archivo se puede llamar como quieras pero este archivo lo podr칤as usar para la configuraci칩n general de tu proyecto.")])]),a._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// Sintaxis de Node")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("require")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[a._v("'dotenv'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("config")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\nmodule"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("exports "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  debug"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v("process"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("env"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),e("span",{pre:!0,attrs:{class:"token constant"}},[a._v("DEBUG")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  apiKey"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" process"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("env"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),e("span",{pre:!0,attrs:{class:"token constant"}},[a._v("API_KEY")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// M칩dulos de ES6")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("import")]),a._v(" dotenv "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("from")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v("'dotenv'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\ndotenv"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("config")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("export")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("default")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  debug"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v("process"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("env"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),e("span",{pre:!0,attrs:{class:"token constant"}},[a._v("DEBUG")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  apiKey"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" process"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("env"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),e("span",{pre:!0,attrs:{class:"token constant"}},[a._v("API_KEY")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),e("blockquote",[e("p",[a._v("Usamos el "),e("RouterLink",{attrs:{to:"/js/bang-bang-operator/"}},[a._v("operador Bang Bang")]),a._v(" para obtener un valor booleano en lugar del string.")],1)]),a._v(" "),e("p",[a._v("De esta manera, cuando necesites tus variables solo debes importar el archivo config y acceder a cada una como propiedades. Una forma m치s eficiente de programar 游녧.")]),a._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// Sintaxis de Node")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("const")]),a._v(" config "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("require")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[a._v("'./config.js'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\nconsole"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("config"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("debug"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// -> true")]),a._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// M칩dulos de ES6")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("import")]),a._v(" config "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("from")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v("'./config.js'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\nconsole"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("config"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("apiKey"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// -> 'cddw$324&sad/dsa&as/adsa'")]),a._v("\n")])])]),e("h2",{attrs:{id:"conclusion"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#conclusion"}},[a._v("#")]),a._v(" Conclusi칩n")]),a._v(" "),e("p",[a._v("Espero este art칤culo te ayude a tener una mejor organizaci칩n en tus futuros proyectos con respecto al uso de informaci칩n confidencial. Siempre procura seguir las buenas pr치cticas de desarrollo y despliegue para evitar la mayor cantidad de problemas posibles. Hay que hacerle caso a los gur칰s de la inform치tica 游뱁.")]),a._v(" "),e("p",[a._v("Nos vemos en la siguiente. Happy coding! 游봊")]),a._v(" "),e("Disqus")],1)}),[],!1,null,null,null);s.default=n.exports}}]);