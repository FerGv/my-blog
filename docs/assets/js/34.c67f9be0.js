(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{437:function(a,e,t){"use strict";t.r(e);var s=t(43),n=Object(s.a)({},(function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"localstorage-almacenamiento-en-el-navegador"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#localstorage-almacenamiento-en-el-navegador"}},[a._v("#")]),a._v(" localStorage (Almacenamiento en el navegador)")]),a._v(" "),t("p",[a._v("Hoy en día, el desarrollo web se ha vuelto tan complicado que lo que antes solo se hacía del lado del "),t("a",{attrs:{href:"https://es.wikipedia.org/wiki/Front_end_y_back_end",target:"_blank",rel:"noopener noreferrer"}},[a._v("backend"),t("OutboundLink")],1),t("strong",[a._v("(donde se procesa la lógica, lo que no ve el usuario)")]),a._v(", ahora se reparte en el "),t("a",{attrs:{href:"https://es.wikipedia.org/wiki/Front_end_y_back_end",target:"_blank",rel:"noopener noreferrer"}},[a._v("frontend"),t("OutboundLink")],1),t("strong",[a._v("(lado visual que interactúa con el usuario)")]),a._v(" y en algunos casos hasta se delega completamente a este lado.")]),a._v(" "),t("p",[a._v("Un ejemplo de esto es la autenticación, que antes se manejaba en el servidor a través de sesiones las cuales utilizaban "),t("a",{attrs:{href:"https://es.wikipedia.org/wiki/Cookie_(inform%C3%A1tica)",target:"_blank",rel:"noopener noreferrer"}},[a._v("cookies"),t("OutboundLink")],1),a._v(" para almacenar pequeña información en el navegador acerca del usuario. Esto funcionaba bien cuando todo era una "),t("a",{attrs:{href:"https://es.wikipedia.org/wiki/Aplicaci%C3%B3n_monol%C3%ADtica",target:"_blank",rel:"noopener noreferrer"}},[a._v("arquitectura monolítica"),t("OutboundLink")],1),a._v(" y la lógica y la presentación eran manejados en conjunto. Pero cuando comenzamos a separarlos, tuvimos que buscar nuevas maneras de "),t("strong",[a._v("almacenar")]),a._v(" más información del lado del "),t("a",{attrs:{href:"https://es.wikipedia.org/wiki/Cliente-servidor",target:"_blank",rel:"noopener noreferrer"}},[a._v("cliente"),t("OutboundLink")],1),a._v(".")]),a._v(" "),t("p",[a._v("Fue así que se creó una "),t("a",{attrs:{href:"https://es.wikipedia.org/wiki/Web_API",target:"_blank",rel:"noopener noreferrer"}},[a._v("API"),t("OutboundLink")],1),a._v(" del navegador llamada "),t("a",{attrs:{href:"https://developer.mozilla.org/es/docs/Web/API/Window/localStorage",target:"_blank",rel:"noopener noreferrer"}},[a._v("localStorage"),t("OutboundLink")],1),a._v(" para almacenar todo lo que una aplicación frontend necesitara. Pero debo aclarar que tiene sus consideraciones:")]),a._v(" "),t("ul",[t("li",[a._v("Solo se puede almacenar texto.")]),a._v(" "),t("li",[a._v("Está limitada a guardar máximo 5MB por dominio.")]),a._v(" "),t("li",[a._v("Todo se almacena como parejas clave-valor.")]),a._v(" "),t("li",[a._v("Cualquier script JS tiene acceso al almacenamiento.")])]),a._v(" "),t("p",[a._v("Pero esto no es necesariamente malo. De hecho, para la mayoría de casos es más que suficiente. Así que veamos cómo usar esta API, te sorprenderá lo sencilla que es:")]),a._v(" "),t("h2",{attrs:{id:"crear-editar-items"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#crear-editar-items"}},[a._v("#")]),a._v(" Crear/Editar items")]),a._v(" "),t("p",[a._v("Para acceder a la API, usamos el objeto global "),t("code",[a._v("localStorage")]),a._v(" y los métodos que nos provee. El primero de ellos es "),t("code",[a._v("setItem()")]),a._v(" que nos ayuda a crear un nuevo item si no existe, o editarlo en caso de que ya se encuentre guardado en el almacén.")]),a._v(" "),t("p",[a._v("Este método recibe como primer parámetro la llave para identificar al item, y como segundo parámetro el valor a guardar.")]),a._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// Crear items")]),a._v("\nlocalStorage"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("setItem")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'nombre'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'Fer'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\nlocalStorage"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("setItem")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'edad'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("23")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// Actualizar items")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// Simplemente utiliza la misma llave.")]),a._v("\nlocalStorage"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("setItem")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'nombre'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'Pedro'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),t("p",[a._v("Ya que solo podemos guardar texto, si intentas almacenar un tipo de dato complejo como un arreglo o un objeto, debes primero convertirlo a texto usando "),t("a",{attrs:{href:"https://developer.mozilla.org/es/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify",target:"_blank",rel:"noopener noreferrer"}},[a._v("JSON.stringify()"),t("OutboundLink")],1),a._v(" y pasando el valor como argumento.")]),a._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("const")]),a._v(" persona "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v(" nombre"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'Fer'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" edad"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("23")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\nlocalStorage"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("setItem")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'persona'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token constant"}},[a._v("JSON")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("stringify")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("persona"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[a._v("TIP")]),a._v(" "),t("p",[a._v("Puedes revisar todo lo que está almacenado en tu navegador, entrando a las "),t("strong",[a._v("herramientas de desarrollador")]),a._v(".")]),a._v(" "),t("ul",[t("li",[a._v("Para "),t("a",{attrs:{href:"https://support.google.com/campaignmanager/answer/2828688?hl=es",target:"_blank",rel:"noopener noreferrer"}},[a._v("Chrome"),t("OutboundLink")],1),a._v(" está en la pestaña "),t("strong",[a._v("Aplicación")]),a._v(", en la sección "),t("strong",[a._v("Almacenamiento > Local Storage")]),a._v(".")]),a._v(" "),t("li",[a._v("Para "),t("a",{attrs:{href:"https://developer.mozilla.org/es/docs/Learn/Common_questions/What_are_browser_developer_tools",target:"_blank",rel:"noopener noreferrer"}},[a._v("Firefox"),t("OutboundLink")],1),a._v(" está en la pestaña "),t("strong",[a._v("Almacenamiento")]),a._v(", en la sección "),t("strong",[a._v("Local Storage")]),a._v(".")])]),a._v(" "),t("p",[a._v("Revisa la documentación de tu navegador para saber cómo acceder a esta información.")])]),a._v(" "),t("h2",{attrs:{id:"obtener-items"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#obtener-items"}},[a._v("#")]),a._v(" Obtener items")]),a._v(" "),t("p",[a._v("Para obtener algo de nuestro almacén usamos el método "),t("code",[a._v("getItem()")]),a._v(" junto con la llave. Esto nos regresará el texto guardado o "),t("code",[a._v("null")]),a._v(" en caso de no encontrar esa llave.")]),a._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[a._v("localStorage"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("getItem")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'nombre'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// -> 'Fer'")]),a._v("\n\nlocalStorage"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("getItem")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'edad'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// Retorna texto, no número")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// -> '23'")]),a._v("\n\nlocalStorage"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("getItem")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'no-existe'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// -> null")]),a._v("\n")])])]),t("p",[a._v("Recuerda que todo en el "),t("strong",[a._v("localStorage")]),a._v(" es texto, por lo que los objetos más complejos deben ser convertidos antes de usarse. "),t("a",{attrs:{href:"https://developer.mozilla.org/es/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse",target:"_blank",rel:"noopener noreferrer"}},[a._v("JSON.parse()"),t("OutboundLink")],1),a._v(" transforma las cadenas de texto a su tipo de dato original.")]),a._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[a._v("localStorage"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("getItem")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'persona'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// Retorna texto, no el objeto")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// -> '{ nombre: \"Fer\", edad: 23 }'")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token constant"}},[a._v("JSON")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("parse")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("localStorage"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("getItem")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'persona'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// -> { nombre: 'Fer', edad: 23 }")]),a._v("\n")])])]),t("h2",{attrs:{id:"borrar-items"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#borrar-items"}},[a._v("#")]),a._v(" Borrar items")]),a._v(" "),t("p",[a._v("Para borrar un item llamamos al método "),t("code",[a._v("removeItem()")]),a._v(" y pasamos la llave.")]),a._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[a._v("localStorage"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("removeItem")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'nombre'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),t("p",[a._v("Y para borrar todos los items usamos "),t("code",[a._v("clear()")]),a._v(".")]),a._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[a._v("localStorage"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("clear")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),t("h2",{attrs:{id:"conclusion"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#conclusion"}},[a._v("#")]),a._v(" Conclusión")]),a._v(" "),t("p",[t("code",[a._v("localStorage")]),a._v(" es solo un "),t("a",{attrs:{href:"https://developer.mozilla.org/es/docs/Web/API/Web_Storage_API",target:"_blank",rel:"noopener noreferrer"}},[a._v("tipo de almacenamiento en el navegador"),t("OutboundLink")],1),a._v(" pero abre las posibilidades a grandes cosas, ya que ofrece flexibilidad a las aplicaciones cliente para guardar todo tipo de información que necesiten como "),t("a",{attrs:{href:"https://es.wikipedia.org/wiki/Token_(inform%C3%A1tica)",target:"_blank",rel:"noopener noreferrer"}},[a._v("tokens de autenticación"),t("OutboundLink")],1),a._v(" (aunque debes tener cuidado), datos del usuario, preferencias como el tema oscuro, etc.")]),a._v(" "),t("p",[a._v("La API es realmente sencilla, así que te recomiendo que empieces a usarla en tus aplicaciones, podría ser de mucha utilidad.")]),a._v(" "),t("p",[a._v("Happy coding! 🥸")]),a._v(" "),t("Disqus")],1)}),[],!1,null,null,null);e.default=n.exports}}]);